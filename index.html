<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>3D Viewer with VR</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      body {
        font-family: sans-serif;
        text-align: center;
        margin: 2em;
      }
      model-viewer {
        width: 100%;
        height: 500px;
        margin-top: 2em;
      }
    </style>
  </head>
  <body>
    <h1>Select a Model</h1>
    <select id="modelSelector">
      <option value="">-- Choose an option --</option>
      <option value="table">Table</option>
      <option value="table-vr">Table (VR)</option>
    </select>

    <model-viewer
      id="viewer"
      src=""
      alt="3D model"
      ar
      ar-modes="scene-viewer webxr quick-look"
      camera-controls
      auto-rotate
      shadow-intensity="1"
      exposure="1"
      vr
    ></model-viewer>

    <script>
      const selector = document.getElementById('modelSelector');
      const viewer = document.getElementById('viewer');

      selector.addEventListener('change', () => {
        const modelURL = 'https://babak-ayami.github.io/babak-3d-viewer/models/chair.glb';

        if (selector.value === 'table') {
          viewer.src = modelURL;
        } else if (selector.value === 'table-vr') {
          viewer.src = modelURL;
          viewer.enterVR(); // Tries to launch VR mode if supported
        } else {
          viewer.src = '';
        }
      });
    </script>
  </body>
</html>
